# 使用助记词配置RWA-HUB区块链功能

本文档介绍如何使用钱包助记词来配置和启用资产自动上链功能。

## 什么是助记词？

助记词（Mnemonic Phrase，也称恢复短语或种子短语）是一系列的常见英文单词（通常为12或24个），用于生成和还原加密钱包的私钥。通过助记词，系统可以派生出与您钱包完全相同的私钥，从而实现对区块链资产的控制。

## 配置步骤

### 1. 准备助记词

从您的钱包中获取助记词：

- **Phantom钱包**：设置 → 安全性与隐私 → 显示恢复短语
- **Solflare钱包**：设置 → 备份 → 显示恢复短语

**重要安全提示**：助记词提供对您钱包的完全控制权。请确保在安全的环境中操作，并且不要与任何人分享您的助记词。

### 2. 配置环境变量

创建`.env`文件并添加助记词配置：

```bash
# 进入项目目录
cd /path/to/your/project

# 创建.env文件
touch app/.env

# 编辑.env文件，添加助记词配置
echo "SOLANA_NETWORK_URL=https://api.mainnet-beta.solana.com
SOLANA_SERVICE_WALLET_MNEMONIC=your word1 word2 word3 ... word12
SOLANA_BALANCE_THRESHOLD=0.1
MIN_PAYMENT_AMOUNT=100" > app/.env
```

将`your word1 word2 word3 ... word12`替换为您的实际助记词，确保单词之间用空格分隔。

### 3. 安装依赖

安装处理助记词所需的额外依赖：

```bash
pip install mnemonic==0.20 bip32utils==0.3.post4
```

### 4. 验证配置

启动应用程序并验证钱包连接是否成功：

```bash
# 重启Flask服务
pkill -f flask && cd app && flask run
```

访问以下API端点检查服务钱包状态：
```
http://127.0.0.1:5000/api/service/wallet/status
```

如果配置正确，您应该看到包含钱包地址和SOL余额的JSON响应。

## 常见问题

### 1. 助记词与私钥有什么区别？

- **助记词**：是一系列可读的单词，更容易备份和记忆
- **私钥**：是一串复杂的字符，直接用于签名交易

从技术上讲，助记词用于生成私钥，通过特定的算法将这些单词转换为数字密钥。

### 2. 使用助记词是否安全？

使用助记词与使用私钥安全性相同，关键在于如何存储和保护这些信息。在生产环境中：

- 使用加密的环境变量管理系统
- 限制环境变量文件的访问权限
- 考虑使用密钥管理服务如AWS KMS或HashiCorp Vault

### 3. 助记词配置不工作怎么办？

如果遇到问题，请检查：

- 助记词是否完整并按正确顺序输入
- 单词之间是否只有一个空格分隔
- 所有单词是否拼写正确
- 应用日志中是否有相关错误信息

## 技术说明

系统使用BIP39和BIP44标准从助记词派生私钥。对于Solana，派生路径为`m/44'/501'/0'/0'`，其中501是Solana的币种代码。 